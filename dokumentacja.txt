https://docs.mapbox.com/mapbox-gl-js/guides
https://docs.mapbox.com/api/maps/mapbox-tiling-service/
https://docs.mapbox.com/api/maps/uploads/
https://docs.mapbox.com/api/maps/datasets/
https://docs.mapbox.com/api/maps/tilequery/
https://docs.mapbox.com/api/maps/vector-tiles/
https://docs.mapbox.com/api/maps/raster-tiles/
https://docs.mapbox.com/api/maps/static-images/
https://docs.mapbox.com/api/maps/static-tiles/
https://docs.mapbox.com/style-spec/reference/layers/
https://docs.mapbox.com/style-spec/reference/expressions/
https://docs.mapbox.com/style-spec/reference/sources/
https://docs.mapbox.com/style-spec/reference/root/
https://docs.mapbox.com/style-spec/reference/types/
https://docs.mapbox.com/style-spec/reference/sprite/
https://docs.mapbox.com/style-spec/reference/light/
https://docs.mapbox.com/style-spec/reference/glyphs/
https://docs.mapbox.com/style-spec/reference/terrain/
https://docs.mapbox.com/style-spec/reference/schema/
https://docs.mapbox.com/style-spec/reference/imports/
https://docs.mapbox.com/style-spec/reference/projection/
https://docs.mapbox.com/style-spec/reference/other/
https://docs.mapbox.com/style-spec/reference/fog/
https://docs.mapbox.com/style-spec/reference/rain/
https://docs.mapbox.com/style-spec/reference/snow/
https://docs.mapbox.com/style-spec/reference/slots/
https://docs.mapbox.com/style-spec/reference/transition/
https://docs.mapbox.com/style-spec/reference/featuresets/
https://docs.mapbox.com/style-spec/guides/
https://docs.mapbox.com/map-styles/standard/guides
https://docs.mapbox.com/api/maps/styles/
https://docs.mapbox.com/api/maps/fonts/
https://docs.mapbox.com/api/search/geocoding/
https://docs.mapbox.com/api/search/search-box/
https://docs.mapbox.com/api/guides/
https://docs.mapbox.com/api/guides/mcp-server/
https://docs.mapbox.com/mapbox-search-js/guides/
https://github.com/mapbox/mapbox-gl-geocoder
https://docs.mapbox.com/api/search/search-box/
https://docs.mapbox.com/playground/?topic=APIs
https://www.weatherapi.com/docs/

# ğŸŒ¤ï¸ Prognoza Przed Lotem - Ulepszona Wersja

## ğŸ“‹ Opis

Zaawansowana aplikacja prognozy pogody przed lotem goÅ‚Ä™bi pocztowych z mapÄ… 3D, animowanymi warstwami pogodowymi i inteligentnÄ… analizÄ… tras.

## âœ¨ Funkcje

### ğŸ¯ Kluczowe funkcje:

1. **ğŸ“¡ Radar pogodowy** - Animowana warstwa radaru z kolorowym kodowaniem intensywnoÅ›ci opadÃ³w
2. **ğŸ¨ 5-kolorowe kodowanie tras** - Precyzyjne okreÅ›lanie warunkÃ³w lotu:
   - ğŸŸ¢ DoskonaÅ‚e (80-100 pkt)
   - ğŸ”µ Dobre (60-79 pkt) 
   - ğŸŸ¡ Umiarkowane (40-59 pkt)
   - ğŸŸ  SÅ‚abe (20-39 pkt)
   - ğŸ”´ Niebezpieczne (0-19 pkt)
3. **ğŸ“… Prognozy na 7 dni** - WybÃ³r daty z szczegÃ³Å‚owÄ… prognozÄ…
4. **ğŸŒ¤ï¸ Aktualna pogoda** - WyÅ›wietlanie aktualnych warunkÃ³w przy starcie
5. **ğŸŒ©ï¸ Efekty 3D** - Zaawansowane animacje warstw pogodowych
6. **ğŸ¬ Kontrola animacji** - Regulowana prÄ™dkoÅ›Ä‡ animacji (0.1x - 3.0x)

## ğŸš€ Uruchomienie

### Wymagania:
- Python 3.8+
- Flask
- PrzeglÄ…darka internetowa

### Instalacja:

1. **Sklonuj repozytorium:**
```bash
git clone <repository-url>
cd prognoza-przed-lotem
```

2. **Zainstaluj zaleÅ¼noÅ›ci:**
```bash
pip install -r requirements.txt
```

3. **Uruchom aplikacjÄ™:**
```bash
python app.py
```

4. **OtwÃ³rz przeglÄ…darkÄ™:**
```
http://localhost:5000/ai_preflight
```

## ğŸ® Instrukcja obsÅ‚ugi

### ğŸ—ºï¸ Panel warstw pogodowych (lewy)

**Podstawowe warstwy:**
- ğŸŒ¡ï¸ **Temperatura** - Heatmapa temperatury powietrza
- ğŸ’¨ **Wiatr** - StrzaÅ‚ki kierunku i prÄ™dkoÅ›ci wiatru
- ğŸŒ§ï¸ **Opady** - Kafelki opadÃ³w deszczu
- ğŸ“¡ **Radar pogodowy** - Animowany radar z kolorami intensywnoÅ›ci
- â˜ï¸ **Zachmurzenie** - Pokrycie chmurami
- ğŸ›°ï¸ **Satelita** - Widok satelitarny
- ğŸ“Š **CiÅ›nienie** - CiÅ›nienie atmosferyczne
- ğŸ’§ **WilgotnoÅ›Ä‡** - WilgotnoÅ›Ä‡ powietrza
- ğŸ‘ï¸ **WidocznoÅ›Ä‡** - ZasiÄ™g widocznoÅ›ci

**Efekty 3D:**
- ğŸ¢ **Budynki 3D** - TrÃ³jwymiarowe budynki
- â›°ï¸ **Teren 3D** - Topografia terenu
- ğŸŒ©ï¸ **Pogoda 3D** - Efekty 3D dla warstw pogodowych
- ğŸ¬ **Animacje 3D** - Automatyczny obrÃ³t kamery

**WysokoÅ›Ä‡ nad poziomem morza:**
- 10m, 100m, 500m, 1000m, 1500m, 2000m

### ğŸ•Šï¸ Panel planowania lotu (prawy)

**Aktualna pogoda:**
- Automatyczne wyÅ›wietlanie przy starcie aplikacji
- Temperatura, wiatr, wilgotnoÅ›Ä‡, ciÅ›nienie, widocznoÅ›Ä‡
- WschÃ³d i zachÃ³d sÅ‚oÅ„ca

**Prognoza na kolejne dni:**
- Lista 7 dni z moÅ¼liwoÅ›ciÄ… wyboru
- SzczegÃ³Å‚owe warunki dla wybranego dnia
- Szanse opadÃ³w z kolorowym kodowaniem

**Planowanie trasy:**
1. Wybierz **miejsce startu** (miejscowoÅ›Ä‡)
2. Wybierz **metÄ™** (hodowca)
3. Ustaw **datÄ™ lotu**
4. Ustaw **godzinÄ™ lotu**
5. Kliknij **"Wyznacz trasÄ™"** - narysuje kolorowÄ… trasÄ™
6. Kliknij **"Analizuj pogodÄ™"** - szczegÃ³Å‚owa analiza AI

### â±ï¸ Pasek czasowy (dolny)

**Kontrolki:**
- âª **PrzewiÅ„ wstecz** - Poprzednia godzina
- â–¶ï¸ **Play** - Automatyczne przewijanie czasu
- â¸ï¸ **Pauza** - Zatrzymaj animacjÄ™
- â¹ï¸ **Stop** - PowrÃ³t do poczÄ…tku
- â© **PrzewiÅ„ naprzÃ³d** - NastÄ™pna godzina

**Suwak czasu:**
- 48 krokÃ³w (30-minutowe interwaÅ‚y przez 24h)
- Automatyczna aktualizacja warstw pogodowych

## ğŸ¯ Analiza tras lotu

### Kolorowanie tras:
- **ğŸŸ¢ DoskonaÅ‚e**: Warunki idealne, 95% szans powodzenia
- **ğŸ”µ Dobre**: Warunki bezpieczne, 85% szans powodzenia  
- **ğŸŸ¡ Umiarkowane**: WymagajÄ… uwagi, 65% szans powodzenia
- **ğŸŸ  SÅ‚abe**: Odradzane, 35% szans powodzenia
- **ğŸ”´ Niebezpieczne**: Zabronione, 10% szans powodzenia

### Czynniki analizy:
- **Temperatura**: Optymalna 15-25Â°C
- **Wiatr**: Optymalny <15 km/h
- **WilgotnoÅ›Ä‡**: Optymalna 40-70%
- **WidocznoÅ›Ä‡**: Optymalna >10 km
- **CiÅ›nienie**: StabilnoÅ›Ä‡ atmosferyczna

### Popup na trasie:
- Kliknij punkty na trasie dla szczegÃ³Å‚Ã³w
- PrognoÅ¼a co 5km trasy
- WskaÅºnik warunkÃ³w lotu (0-100)
- Rekomendacje AI

## ğŸ”§ Zaawansowane funkcje

### ğŸ“¡ Radar pogodowy:
- Animowane kafelki z przejÅ›ciami kolorÃ³w
- Zielony â†’ Å»Ã³Å‚ty â†’ PomaraÅ„czowy â†’ Czerwony
- Efekt promieniowania radaru
- Synchronizacja z timeline'em

### ğŸ¬ Animacje 3D:
- Automatyczny obrÃ³t kamery (360Â°)
- PÅ‚ynne zmiany pitch (30-60Â°)
- Regulowana prÄ™dkoÅ›Ä‡ (0.1x - 3.0x)
- Efekty wysokoÅ›ci dla warstw pogodowych

### ğŸ—ºï¸ PorÃ³wnywanie map:
- **Satelita vs Standardowa** - PorÃ³wnanie widokÃ³w
- **Warstwy pogodowe** - RÃ³Å¼ne warstwy obok siebie
- Pionowy lub poziomy podziaÅ‚
- Synchronizowane przesuwanie

## ğŸ“Š API Endpoints

### Pogoda:
- `/api/weather/current` - Aktualna pogoda
- `/api/weather/forecast` - Prognoza na dni
- `/api/weather/radar/tiles/{z}/{x}/{y}` - Kafelki radaru
- `/api/weather/temperature` - Temperatura dla wysokoÅ›ci/czasu
- `/api/weather/wind` - Dane wiatru
- `/api/weather/humidity` - WilgotnoÅ›Ä‡
- `/api/weather/pressure` - CiÅ›nienie
- `/api/weather/visibility` - WidocznoÅ›Ä‡

### Analiza tras:
- `/api/analyze_flight_route` - Analiza trasy lotu
- Ocena warunkÃ³w na trasie
- Rekomendacje AI
- Czynniki ryzyka

## ğŸ¨ Personalizacja

### Kontrola warstw:
- PrzezroczystoÅ›Ä‡ warstw (0-100%)
- KolejnoÅ›Ä‡ wyÅ›wietlania
- Kolorystyka radarÃ³w
- IntensywnoÅ›Ä‡ animacji

### Style mapy:
- Streets (standardowa)
- Satellite (satelitarna)
- Light (jasna)
- Dark (ciemna)
- Outdoors (turystyczna)

## ğŸ“± ResponsywnoÅ›Ä‡

- **Panele**: Przesuwane i zmienne rozmiary
- **Drag & Drop**: Przemieszczanie paneli
- **Resize**: Zmiana rozmiaru paneli
- **Mobilne**: Automatyczna adaptacja

## ğŸ”— Integracje

- **Mapbox GL JS** - Mapa bazowa i 3D
- **Mapbox Controls** - Dodatkowe kontrolki
- **Rain Layer** - Animowane opady
- **Compare** - PorÃ³wnywanie map
- **Opacity Control** - Kontrola przezroczystoÅ›ci

## ğŸ“ Wsparcie

Aplikacja zawiera rozbudowanÄ… konsolÄ™ debug - otwÃ³rz DevTools (F12) dla szczegÃ³Å‚owych logÃ³w.

## ğŸ”§ Konfiguracja

### Zmienne Å›rodowiskowe:
```bash
OPENWEATHER_API_KEY=your_openweather_api_key
MAPBOX_ACCESS_TOKEN=your_mapbox_access_token
```

### Plik .env:
```env
OPENWEATHER_API_KEY=your_openweather_api_key
MAPBOX_ACCESS_TOKEN=your_mapbox_access_token
```

## ğŸ› RozwiÄ…zywanie problemÃ³w

### Mapa siÄ™ nie Å‚aduje:
1. SprawdÅº token Mapbox
2. SprawdÅº poÅ‚Ä…czenie internetowe
3. WyczyÅ›Ä‡ cache przeglÄ…darki

### Dane pogodowe nie Å‚adujÄ… siÄ™:
1. SprawdÅº token OpenWeather API
2. SprawdÅº limit zapytaÅ„ API
3. SprawdÅº logi serwera

### Animacje sÄ… wolne:
1. Zmniejsz prÄ™dkoÅ›Ä‡ animacji
2. WyÅ‚Ä…cz niepotrzebne warstwy
3. SprawdÅº wydajnoÅ›Ä‡ przeglÄ…darki

## ğŸ“ˆ RozwÃ³j

### Dodanie nowych warstw:
1. Dodaj warstwÄ™ w `app.js`
2. Dodaj kontrolki w HTML
3. Dodaj style w CSS
4. Zaktualizuj dokumentacjÄ™

### Dodanie nowych API:
1. Dodaj endpoint w `app.py`
2. Dodaj obsÅ‚ugÄ™ w `app.js`
3. Dodaj interfejs uÅ¼ytkownika
4. Przetestuj funkcjonalnoÅ›Ä‡

## ğŸ“„ Licencja

MIT License - zobacz plik LICENSE dla szczegÃ³Å‚Ã³w.

## ğŸ‘¥ Autorzy

- GÅ‚Ã³wny programista: AI Assistant
- Design: AI Assistant
- Dokumentacja: AI Assistant

---

**ğŸŒ¤ï¸ Prognoza Przed Lotem** - Inteligentna analiza pogody dla hodowcÃ³w goÅ‚Ä™bi pocztowych 